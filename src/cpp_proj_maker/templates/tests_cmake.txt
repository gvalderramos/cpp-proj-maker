set(GTEST_VERSION 1.17.0 CACHE STRING "Version of GoogleTest to download")
include(FetchContent)
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG        v${GTEST_VERSION})
FetchContent_MakeAvailable(googletest)

enable_testing()
include(GoogleTest)

add_executable({{ name }}-tests
    main.cpp
)
target_link_libraries({{ name }}-tests
    PRIVATE
        gtest gtest_main
)
target_include_directories({{ name }}-tests
    PRIVATE
        "${CMAKE_SOURCE_DIR}/src"
        "${CMAKE_SOURCE_DIR}/include"
)
gtest_discover_tests({{ name }}-tests)